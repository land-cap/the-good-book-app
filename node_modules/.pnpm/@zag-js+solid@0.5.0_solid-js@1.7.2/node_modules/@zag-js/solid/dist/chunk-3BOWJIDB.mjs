// src/use-actor.ts
import { onCleanup, onMount } from "solid-js";
import { createStore, reconcile } from "solid-js/store";
function useActor(service) {
  const [state, setState] = createStore(service.getState());
  onMount(() => {
    const unsubscribe = service.subscribe((nextState) => {
      setState(reconcile(nextState));
    });
    onCleanup(() => {
      unsubscribe();
    });
  });
  return [state, service.send];
}

export {
  useActor
};
